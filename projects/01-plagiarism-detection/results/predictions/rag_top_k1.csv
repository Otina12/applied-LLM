method,config_name,id,is_positive,is_plagiarized,reason,evidence_mine,evidence_oai,ms_elapsed
rag,rag_top_k1,neg_002,False,False,The candidate snippet does not share any structural or functional similarities with the query code. It serves a different purpose (generating a random string) and has a different control flow and logic.,[],[],1561.3112449645996
rag,rag_top_k1,neg_005,False,False,The candidate snippet implements a different function (absolute value) with no structural or logical similarity to the Fibonacci function.,[],"['Different function purpose (absolute value vs Fibonacci sequence)', 'Different control flow and recursion structure', 'No shared variable names or logic']",1799.489974975586
rag,rag_top_k1,neg_013,False,False,"The candidate snippet has a different purpose and structure, focusing on atomic operations rather than counting even numbers in a slice.",[],"['The query function counts even numbers in a slice of integers, while the candidate snippet retrieves a total count using atomic operations.', 'The control flow in the query function involves a loop and a conditional check, whereas the candidate snippet does not contain any loops or conditionals.']",2902.4739265441895
rag,rag_top_k1,pos_chunk_00010,True,False,The candidate snippet does not implement the same functionality as the query code. It only retrieves the size of the download and does not calculate speed based on size differences and time interval.,"[{'chunk_id': 'chunk_00009', 'path': 'got\\download.go', 'text': 'func (d *Download) Size() uint64 {\n\treturn atomic.LoadUint64(&d.size)\n}\n\n// Speed returns download speed.', 'similarity': 0.8427877272758555}]","[""The candidate snippet defines a function 'Size' that returns the size of the download, but does not include any logic for calculating speed."", 'The query code calculates speed by taking the difference between two atomic values and dividing by an interval, which is not present in the candidate snippet.']",2866.4138317108154
rag,rag_top_k1,neg_004,False,False,The candidate snippet implements a different functionality (absolute value) and has a different structure and control flow compared to the query function (factorial calculation).,[],"['Different function purpose (abs vs. Factorial)', 'Different control flow (if condition checks for negative vs. zero)', 'Different recursive structure (Factorial is recursive, abs is not)']",2549.64280128479
rag,rag_top_k1,neg_001,False,False,"The candidate snippet implements a different algorithm with a distinct structure and control flow compared to the query code. The query code focuses on summing elements in a slice, while the candidate snippet is about partitioning and maximizing sums, which involves recursion and memoization.",[],"['The query code uses a simple loop to sum elements in a slice.', 'The candidate snippet uses recursion and memoization to solve a different problem (max sum after partitioning).', 'The control flow in the candidate snippet is significantly more complex, involving multiple nested loops and function calls.']",2839.9884700775146
rag,rag_top_k1,pos_chunk_00011,True,True,"The candidate snippet has the same structure and control flow as the query code, with only minor differences in the order of return statements and formatting.","[{'chunk_id': 'chunk_00011', 'path': 'got\\download.go', 'text': 'func (d *Download) AvgSpeed() uint64 {\n\n\tif totalMills := d.TotalCost().Milliseconds(); totalMills > 0 {\n\t\treturn uint64(atomic.LoadUint64(&d.size) / uint64(totalMills) * 1000)\n\t}\n\n\treturn 0\n}\n\n// TotalCost returns download duration.', 'similarity': 0.9327829612208552}]","['Both snippets define a method AvgSpeed() for the Download type.', 'Both snippets use the same logic to calculate average speed based on total milliseconds.', 'The control flow is identical, checking totalMills before performing the calculation.']",3056.623935699463
rag,rag_top_k1,neg_010,False,False,The candidate snippet implements a different functionality (reading a string) and does not share structural or logical similarities with the query function (word counting).,[],[],1243.335485458374
rag,rag_top_k1,pos_chunk_00008,True,True,"The candidate snippet is identical to the query code, with no changes in structure or logic.","[{'chunk_id': 'chunk_00008', 'path': 'got\\download.go', 'text': 'func (d *Download) TotalSize() uint64 {\n\treturn d.info.Size\n}\n\n// Size returns downloaded size.', 'similarity': 0.947433231668069}]","[""The function signature is the same: 'func (d *Download) TotalSize() uint64 {'"", ""The return statement is identical: 'return d.info.Size'""]",1860.2309226989746
rag,rag_top_k1,pos_chunk_00014,True,True,"The candidate snippet is identical to the query code, with no changes in structure or logic.","[{'chunk_id': 'chunk_00014', 'path': 'got\\download.go', 'text': 'func (d *Download) IsRangeable() bool {\n\treturn d.info.Rangeable\n}\n\n// Download chunks', 'similarity': 0.884463238101745}]","[""The function signature is the same: 'func (d *Download) IsRangeable() bool'."", ""The return statement is identical: 'return d.info.Rangeable'.""]",2079.875946044922
rag,rag_top_k1,pos_chunk_00003,True,True,"The candidate snippet has a very similar structure, control flow, and logic to the query code, including the same error handling and response checks.","[{'chunk_id': 'chunk_00003', 'path': 'got\\download.go', 'text': 'func (d *Download) GetInfoOrDownload() (*Info, error) {\n\n\tvar (\n\t\terr  error\n\t\tdest *os.File\n\t\treq  *http.Request\n\t\tres  *http.Response\n\t)\n\n\tif req, err = NewRequest(d.ctx, ""GET"", d.URL, append(d.Header, GotHeader{""Range"", ""bytes=0-0""})); err != nil {\n\t\treturn &Info{}, err\n\t}\n\n\tif res, err = d.Client.Do(req); err != nil {\n\t\treturn &Info{}, err\n\t}\n\tdefer res.Body.Close()\n\n\tif res.StatusCode >= 300 {\n\t\treturn &Info{}, fmt.Errorf(""Response status code is not ok: %d"", res.StatusCode)\n\t}\n\n\t// Set content disposition non trusted name\n\td.unsafeName = res.Header.Get(""content-disposition"")\n\n\tif dest, err = os.Create(d.Path()); err != nil {\n\t\treturn &Info{}, err\n\t}\n\tdefer dest.Close()\n\n\tif _, err = io.Copy(dest, io.TeeReader(res.Body, d)); err != nil {\n\t\treturn &Info{}, err\n\t}\n\n\t// Get content length from content-range response header,\n\t// if content-range exists, that means partial content is supported.\n\tif cr := res.Header.Get(""content-range""); cr != """" && res.ContentLength == 1 {\n\t\tl := strings.Split(cr, ""/"")\n\t\tif len(l) == 2 {\n\t\t\tif length, err := strconv.ParseUint(l[1], 10, 64); err == nil {\n\n\t\t\t\treturn &Info{\n\t\t\t\t\tSize:      length,\n\t\t\t\t\tRangeable: true,\n\t\t\t\t}, nil\n\t\t\t}\n\t\t}\n\t\t// Make sure the caller knows about the problem and we don\'t just silently fail\n\t\treturn &Info{}, fmt.Errorf(""Response includes content-range header which is invalid: %s"", cr)\n\t}\n\n\treturn &Info{}, nil\n}\n\n// Init set defaults and split file into chunks and gets Info,\n// you should call Init before Start', 'similarity': 0.7881016919471014}]","['Both snippets define a function with the same name and signature.', 'Both snippets use similar variable declarations and error handling patterns.', 'The control flow for checking the response status code and handling the content-range header is nearly identical in both snippets.', 'The use of `defer` for closing resources is consistent in both snippets.']",3085.6363773345947
rag,rag_top_k1,pos_chunk_00015,True,True,"The candidate snippet has a similar structure, control flow, and logic to the query code, including the use of goroutines, wait groups, and error handling in a concurrent download context.","[{'chunk_id': 'chunk_00015', 'path': 'got\\download.go', 'text': 'func (d *Download) dl(dest io.WriterAt, errC chan error) {\n\n\tvar (\n\t\t// Wait group.\n\t\twg sync.WaitGroup\n\n\t\t// Concurrency limit.\n\t\tmax = make(chan int, d.Concurrency)\n\t)\n\n\tfor i := 0; i < len(d.chunks); i++ {\n\n\t\tmax <- 1\n\t\twg.Add(1)\n\n\t\tgo func(i int) {\n\t\t\tdefer wg.Done()\n\n\t\t\t// Concurrently download and write chunk\n\t\t\tif err := d.DownloadChunk(d.chunks[i], &OffsetWriter{dest, int64(d.chunks[i].Start)}); err != nil {\n\t\t\t\terrC <- err\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t<-max\n\t\t}(i)\n\t}\n\n\twg.Wait()\n\terrC <- nil\n}\n\n// Return constant path which will not change once the download starts', 'similarity': 0.8800490653690556}]","['Both snippets define a method `dl` on a `Download` struct.', 'Both use a `sync.WaitGroup` to manage concurrent downloads.', 'Both snippets utilize a buffered channel `max` to limit concurrency.', 'The error handling pattern is identical, where errors are sent to the `errC` channel.', 'The loop iterates over `d.chunks` in the same manner, and the goroutine function captures the index in the same way.']",4065.8812522888184
rag,rag_top_k1,neg_009,False,False,The candidate snippet implements a different algorithm (max sum after partitioning) and does not share structural or control flow similarities with the BubbleSort function.,[],[],1398.8382816314697
rag,rag_top_k1,neg_008,False,False,"The candidate snippet is a completely different function that checks if a character is a digit, with no structural or logical similarity to the query function that checks for palindromes.",[],"[""The candidate function is named 'isDigit' and checks for digit characters, while the query function is named 'IsPalindrome' and checks for palindrome strings."", 'The control flow and logic of the candidate snippet do not involve any looping or comparison of characters in a string, which is central to the query function.']",2570.991277694702
rag,rag_top_k1,neg_007,False,False,"The candidate snippet does not contain any functionality related to counting vowels or similar logic as in the query code. It focuses on parsing and testing operator precedence in expressions, which is unrelated to the vowel counting functionality.",[],[],1838.3827209472656
rag,rag_top_k1,neg_014,False,False,"The candidate snippet does not share any structural or functional similarities with the query code. It defines a method for a Boolean type, which is unrelated to the Contains function that checks for the presence of a target in a slice of integers.",[],[],1437.1583461761475
rag,rag_top_k1,pos_chunk_00012,True,True,"The candidate snippet is identical to the query code, with no changes in structure, call order, or control flow.","[{'chunk_id': 'chunk_00012', 'path': 'got\\download.go', 'text': 'func (d *Download) TotalCost() time.Duration {\n\treturn time.Now().Sub(d.startedAt)\n}\n\n// Write updates progress size.', 'similarity': 0.847264926716214}]","[""The function signature is the same: 'func (d *Download) TotalCost() time.Duration'."", ""The return statement is identical: 'return time.Now().Sub(d.startedAt)'."", ""The only addition is a comment, which does not change the code's structure or logic.""]",4553.118944168091
rag,rag_top_k1,pos_chunk_00007,True,False,The candidate snippet implements a different function with a different purpose and structure. It does not share any significant structural or logical similarities with the query code.,[],"['The query code is a method that returns a context.Context from a struct, while the candidate snippet is a standalone function that performs a download operation.', 'The query code has a simple return statement, whereas the candidate snippet contains multiple operations including error handling and a call to another function.']",2146.167755126953
rag,rag_top_k1,neg_006,False,False,"The candidate snippet implements a different algorithm with a distinct purpose and structure, focusing on partitioning and dynamic programming rather than finding the maximum value in a slice.",[],"['The candidate snippet uses recursion and memoization, which is not present in the query code.', 'The logic of finding a maximum value is embedded within a more complex algorithm that calculates a maximum sum after partitioning, which is unrelated to the simple maximum finding in the query code.']",2653.8546085357666
rag,rag_top_k1,pos_chunk_00006,True,True,"The candidate snippet has a very similar structure, control flow, and logic to the query code, despite some differences in comments and formatting.","[{'chunk_id': 'chunk_00006', 'path': 'got\\download.go', 'text': 'func (d *Download) RunProgress(fn ProgressFunc) {\n\n\t// Set default interval.\n\tif d.Interval == 0 {\n\t\td.Interval = uint64(400 / runtime.NumCPU())\n\t}\n\n\tsleepd := time.Duration(d.Interval) * time.Millisecond\n\n\tfor {\n\n\t\tif d.StopProgress {\n\t\t\tbreak\n\t\t}\n\n\t\t// Context check.\n\t\tselect {\n\t\tcase <-d.ctx.Done():\n\t\t\treturn\n\t\tdefault:\n\t\t}\n\n\t\t// Run progress func.\n\t\tfn(d)\n\n\t\t// Update last size\n\t\tatomic.StoreUint64(&d.lastSize, atomic.LoadUint64(&d.size))\n\n\t\t// Interval.\n\t\ttime.Sleep(sleepd)\n\t}\n}\n\n// Context returns download context.', 'similarity': 0.8737930358492714}]","['Both snippets define a method `RunProgress` for a `Download` struct.', 'Both snippets check if `d.Interval` is zero and set it to a default value based on the number of CPUs.', 'Both snippets use a `for` loop to repeatedly execute code until a stopping condition is met.', 'Both snippets check for a context cancellation using `select` and `d.ctx.Done()`.', 'Both snippets call the function `fn(d)` to execute a progress function.']",3773.564100265503
rag,rag_top_k1,pos_chunk_00009,True,True,"The candidate snippet is identical to the query code, with no modifications or additional logic that changes its structure or functionality.","[{'chunk_id': 'chunk_00009', 'path': 'got\\download.go', 'text': 'func (d *Download) Size() uint64 {\n\treturn atomic.LoadUint64(&d.size)\n}\n\n// Speed returns download speed.', 'similarity': 0.8433901530201564}]","[""The function signature is the same: 'func (d *Download) Size() uint64 {'"", ""The return statement is identical: 'return atomic.LoadUint64(&d.size)'""]",2296.243906021118
rag,rag_top_k1,neg_011,False,False,"The candidate snippet does not contain any code that resembles the query function in structure, logic, or purpose. It is a test function for operator precedence parsing, which is unrelated to the functionality of converting a string to uppercase.",[],[],1667.4447059631348
rag,rag_top_k1,pos_chunk_00005,True,True,"The candidate snippet has a similar structure, control flow, and logic to the query code, including the handling of context cancellation and error channels.",[],"['Both snippets define a method `Start` on a `Download` struct.', 'Both snippets check if `d.info.Rangeable` is false and handle context cancellation with `select` statements.', 'Both snippets create a file using `os.Create` and defer closing it.', 'Both snippets use a channel to handle errors from a goroutine that downloads data.']",2712.7580642700195
rag,rag_top_k1,neg_015,False,False,"The candidate snippet implements a completely different algorithm and functionality related to tree traversal, which does not share structural or logical similarities with the query function that merges slices.",[],[],1194.4003105163574
rag,rag_top_k1,neg_012,False,False,"The candidate snippet implements a different algorithm with a distinct purpose and structure, focusing on counting pairs of durations rather than calculating an average. The control flow and logic are not similar to the query code.",[],"['The query code calculates an average of numbers, while the candidate code counts pairs of durations that are divisible by 60.', 'The query code uses a simple loop to sum values and then divides by the count, whereas the candidate code uses a map to track frequencies and involves conditional logic based on remainders.']",2944.9620246887207
rag,rag_top_k1,pos_chunk_00002,True,True,"The candidate snippet has a very similar structure, control flow, and logic to the query code, with only minor differences in formatting and comments.","[{'chunk_id': 'chunk_00002', 'path': 'got\\chunks_test.go', 'text': 'func TestChunksLength(t *testing.T) {\n\n\td := &Download{\n\t\tURL:          ""https://proof.ovh.net/files/10Mb.dat"",\n\t\tMinChunkSize: 5242870,\n\t}\n\n\tif err := d.Init(); err != nil {\n\n\t\tt.Error(err)\n\t\treturn\n\t}\n\n\tchunk0 := Chunk{\n\t\tStart: 0,\n\t\tEnd:   5242870,\n\t}\n\n\t// Last chunk should not have end,\n\t// So the server must respond with the remaining content starting form 5242871\n\tchunk1 := Chunk{\n\t\tStart: 5242871,\n\t\tEnd:   10485759,\n\t}\n\n\tif d.info.Rangeable == false {\n\t\tt.Errorf(""Chunk information could not be retrieved for the test file: %s"", d.URL)\n\t\treturn\n\t}\n\n\tif d.chunks[0].Start != 0 {\n\n\t\tt.Errorf(""First chunk should start from 0, but got %d"", d.chunks[0].Start)\n\t}\n\n\tif chunk0.End != d.chunks[0].End {\n\n\t\tt.Errorf(""Chunk 0 expecting: %d but got: %d"", chunk0.End, d.chunks[0].End)\n\t}\n\n\tif d.chunks[1].Start != 5242871 {\n\n\t\tt.Errorf(""Second chunk should start from: 5242871, but got %d"", d.chunks[1].Start)\n\t}\n\n\tif chunk1.End != d.chunks[1].End {\n\n\t\tt.Errorf(""Chunk 1 expecting: %d but got: %d"", chunk1.End, d.chunks[1].End)\n\t}\n}', 'similarity': 0.7723971455972203}]","['Both snippets define a function named `TestChunksLength` with the same signature.', 'Both snippets create a `Download` struct with the same fields and values.', 'Both snippets check for errors after calling `d.Init()` and handle them in the same way.', 'Both snippets define two `Chunk` structs with the same start and end values.', 'Both snippets contain similar conditional checks for `d.info.Rangeable` and the expected values of `d.chunks`.']",3203.551769256592
rag,rag_top_k1,pos_chunk_00013,True,True,"The structure and logic of the function are identical, with only variable names changed.",[],"['Both functions have the same signature: `func (d *Download) Write(b []byte) (int, error)`', 'Both functions calculate the length of the byte slice and store it in a variable.', 'Both functions use `atomic.AddUint64` to update the `d.size` variable with the length of the byte slice.', 'Both functions return the length of the byte slice and `nil` for the error.']",2806.882381439209
rag,rag_top_k1,neg_003,False,False,The candidate snippet does not share any structural or functional similarities with the query code. It implements a completely different functionality (calculating the absolute value of an integer) and has a different control flow and purpose.,[],"['The query code defines a function to return unique integers from a slice, while the candidate snippet defines a function to return the absolute value of an integer.', 'The data structures used (map in query vs. simple integer in candidate) are different.', 'The control flow in the query code involves a loop and a conditional check for uniqueness, while the candidate snippet has a simple conditional check for negativity.']",3249.8650550842285
rag,rag_top_k1,pos_chunk_00004,True,True,"The candidate snippet has a very similar structure, control flow, and logic to the query code, despite some differences in variable names and comments. The overall approach to initializing the download process, handling errors, and setting up chunks is nearly identical.","[{'chunk_id': 'chunk_00004', 'path': 'got\\download.go', 'text': 'func (d *Download) Init() (err error) {\n\n\t// Set start time.\n\td.startedAt = time.Now()\n\n\t// Set default client.\n\tif d.Client == nil {\n\t\td.Client = DefaultClient\n\t}\n\n\t// Set default context.\n\tif d.ctx == nil {\n\t\td.ctx = context.Background()\n\t}\n\n\t// Get URL info and partial content support state\n\tif d.info, err = d.GetInfoOrDownload(); err != nil {\n\t\treturn err\n\t}\n\n\t// Partial content not supported, and the file downladed.\n\tif d.info.Rangeable == false {\n\t\treturn nil\n\t}\n\n\t// Set concurrency default.\n\tif d.Concurrency == 0 {\n\t\td.Concurrency = getDefaultConcurrency()\n\t}\n\n\t// Set default chunk size\n\tif d.ChunkSize == 0 {\n\t\td.ChunkSize = getDefaultChunkSize(d.info.Size, d.MinChunkSize, d.MaxChunkSize, uint64(d.Concurrency))\n\t}\n\n\tchunksLen := d.info.Size / d.ChunkSize\n\td.chunks = make([]*Chunk, 0, chunksLen)\n\n\t// Set chunk ranges.\n\tfor i := uint64(0); i < chunksLen; i++ {\n\n\t\tchunk := new(Chunk)\n\t\td.chunks = append(d.chunks, chunk)\n\n\t\tchunk.Start = (d.ChunkSize * i) + i\n\t\tchunk.End = chunk.Start + d.ChunkSize\n\t\tif chunk.End >= d.info.Size || i == chunksLen-1 {\n\t\t\tchunk.End = d.info.Size - 1\n\t\t\t// Break on last chunk if i < chunksLen\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn nil\n}\n\n// Start downloads the file chunks, and merges them.\n// Must be called only after init', 'similarity': 0.787616168602992}]","['Both snippets define a method `Init` for a `Download` struct.', 'Both snippets check if `d.Client` is nil and set it to `DefaultClient` if so.', 'Both snippets check if `d.ctx` is nil and set it to `context.Background()` if so.', 'Both snippets retrieve information using `d.GetInfoOrDownload()` and handle errors in a similar manner.', 'Both snippets check if `d.info.Rangeable` is false and return early if so.', 'Both snippets calculate `chunksLen` based on `d.info.Size` and `d.ChunkSize` and initialize `d.chunks` accordingly.', 'Both snippets use a loop to create and append `Chunk` objects to `d.chunks`, setting their `Start` and `End` properties in a similar way.']",9068.367719650269
rag,rag_top_k1,pos_chunk_00001,True,True,"The structure, control flow, and overall logic of the function are identical to the query code, with only minor changes in variable names and formatting.","[{'chunk_id': 'chunk_00001', 'path': 'got\\chunk.go', 'text': 'func (dst *OffsetWriter) Write(b []byte) (n int, err error) {\n\tn, err = dst.WriteAt(b, dst.offset)\n\tdst.offset += int64(n)\n\treturn\n}\n\n// Chunk represents the partial content range\ntype Chunk struct {\n\tStart, End uint64\n}', 'similarity': 0.8895321894753399}]","['The function signature and parameters are the same.', 'The logic of calling `dst.WriteAt(b, dst.offset)` is preserved.', 'The increment of `dst.offset` by `int64(n)` is identical in both snippets.', 'The structure of the `Chunk` type is the same, with fields `Start` and `End` defined in the same order.']",2238.8477325439453
